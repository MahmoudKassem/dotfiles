#set mod key to Super
set $mod Mod4

#set font
font pango:Iosevka Nerd Font 12

#set keyboard layout and touchpad settings
input * {
    xkb_layout "de(nodeadkeys)"
    tap enabled
    natural_scroll disabled
}

#gtk settings
set $gnome-schema org.gnome.desktop.interface
exec_always {
    gsettings set $gnome-schema gtk-theme 'Arc-Dark'
    gsettings set $gnome-schema icon-theme 'Papirus-Dark'
    gsettings set $gnome-schema cursor-theme 'Breeze'
}

#enable support for X clients
xwayland enable

#enable gaps between windows
gaps outer 0
gaps inner 8
smart_gaps on

#set resolution
output eDP-1 resolution 1920x1080

#disable title bar
default_border pixel

#color for window decoration  title border  title background  title text  window border child window border
client.focused                #83a598       #1d2021           #83a598     #83a598       #83a598
client.focused_inactive       #83a598       #1d2021           #83a598     #83a598       #1d2021
client.unfocused              #1d2021       #1d2021           #83a598     #1d2021       #1d2021

#home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

#keybindings for applications
bindsym $mod+t exec alacritty
bindsym $mod+b exec brave
bindsym $mod+f exec pcmanfm ~
bindsym $mod+m exec claws-mail
bindsym $mod+g exec steam
bindsym $mod+p exec grafx2
bindsym $mod+z exec zathura

#keybinding for general sway commands
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaymsg exit
bindsym $mod+Shift+z exec swaylock --color "#1d2021" --indicator-idle-visible

#keybindings for moving the focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

#keybindings for moving focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

#keybindings for commands on current window
bindsym $mod+Shift+f fullscreen
bindsym $mod+q kill
bindsym $mod+r splith
bindsym $mod+d splitv

#keybindings to switch between layout styles
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

#keybindings for brightness controls
bindsym XF86MonBrightnessUp exec ~/scripts/change-screen-brightness.sh +2
bindsym XF86MonBrightnessDown exec ~/scripts/change-screen-brightness.sh -2

#keybindings for volume controls
bindsym XF86AudioRaiseVolume exec amixer -q set Master 1+ unmute
bindsym XF86AudioLowerVolume exec amixer -q set Master 1- unmute
bindsym XF86AudioMute exec amixer -q set Master toggle

#keybindings for resize mode
bindsym $mod+Shift+r mode "resize"
mode "resize" {
  bindsym $left resize shrink width 16px
  bindsym $down resize grow height 16x
  bindsym $up resize shrink height 16px
  bindsym $right resize grow width 16px
  bindsym Escape mode "default"
}

#settings for statusbar
bar {
  position top
  workspace_buttons no
  status_command i3blocks
  colors {
      statusline #ebdbb2
      background #1d2021
  }
}

#run script which switches the desktop background every 30 minutes
exec ~/scripts/switch-desktop-background.sh &

#run day/night aware redshift
exec redshift &

#set screen brightness to 32%
exec echo 82 | doas -- tee -a /sys/class/backlight/amdgpu_bl0/brightness > /dev/null
