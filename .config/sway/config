#set mod key to altgr
set $mod mod5

#set font
font pango:Iosevka Nerd Font 12

#set keyboard layout
input type:keyboard xkb_layout "de(nodeadkeys)"

#set touchpad settings
input type:touchpad {
    tap enabled
    natural_scroll disabled
}

#enable gaps between windows
gaps outer 0
gaps inner 8
smart_gaps on

#set resolution
output eDP-1 resolution 1920x1080

#disable title bar
default_border pixel

#define colors the E6 at the end causes transparency of about 8%
set $black "#1d2021E6"
set $blue "#83a598"
set $white "#ebdbb2E6"

#color for window decoration  title border  title background  title text  window border child window border
client.focused                $blue         $black            $blue       $blue         $blue
client.focused_inactive       $blue         $black            $blue       $blue         $black
client.unfocused              $black        $black            $blue       $black        $black

#home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

#keybindings for system commands
bindsym $mod+F4 exec doas poweroff
bindsym $mod+F3 exec doas reboot

#keybindings for applications
bindsym $mod+t exec alacritty
bindsym $mod+b exec brave -incognito
bindsym $mod+f exec pcmanfm ~
bindsym $mod+m exec claws-mail
bindsym $mod+p exec grafx2
bindsym $mod+z exec zathura

#keybinding for general sway commands
bindsym $mod+shift+c reload
bindsym $mod+shift+e exec swaymsg exit
bindsym $mod+shift+z exec swaylock --color $black --indicator-idle-visible

#keybindings for moving the focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

#keybindings for moving focused window
bindsym $mod+shift+$left move left
bindsym $mod+shift+$down move down
bindsym $mod+shift+$up move up
bindsym $mod+shift+$right move right

#keybindings for commands on current window
bindsym $mod+shift+f fullscreen
bindsym $mod+c kill
bindsym $mod+r splith
bindsym $mod+d splitv

#keybindings to switch between layout styles
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

#keybindings for brightness controls
bindsym XF86MonBrightnessUp exec ~/scripts/change-screen-brightness.sh +10 && pkill -SIGRTMIN+11 i3blocks
bindsym XF86MonBrightnessDown exec ~/scripts/change-screen-brightness.sh -10 && pkill -SIGRTMIN+11 i3blocks

#keybindings for volume controls
bindsym XF86AudioRaiseVolume exec amixer -q set Master 4%+ unmute && pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioLowerVolume exec amixer -q set Master 4%- unmute && pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioMute exec amixer -q set Master toggle && pkill -SIGRTMIN+10 i3blocks

#keybindings for resize mode
bindsym $mod+shift+r mode "resize"
mode "resize" {
  bindsym $left resize shrink width 16px
  bindsym $down resize shrink height 16x
  bindsym $up resize grow height 16px
  bindsym $right resize grow width 16px
  bindsym Escape mode "default"
}

#settings for statusbar
bar {
  position top
  workspace_buttons no
  status_command i3blocks
  colors {
      statusline $white
      background $black
  }
}

#run deamon which switches the desktop background every 30 minutes
exec ~/scripts/switch-desktop-background.sh 1800 &

#run day/night aware redshift deamon
exec redshift &

#listen for acpi events like headphones being plugged in
exec acpi_listen &

#start jack daemon
exec jackd -d alsa -d hw:Generic_1 -r 48000 &

#start notification daemon
exec mako &

#start pcmanfm daemon to listen for and mount removable drives
exec pcmanfm -d

#set screen brightness to 32%
exec echo 82 | doas -- tee -a /sys/class/backlight/amdgpu_bl0/brightness
